<div class="joueur-container" *ngIf="joueur as j; else loading">
  <!-- üßë Profile -->
  <section class="card profile-card">
    <h2>{{ joueur.pseudo }}</h2>
    <div class="stats">
      <div>
        <span class="value">{{ getPartiesJoueesCount() }}</span>
        <span class="label">Parties jou√©es</span>
      </div>
      <div>
        <span class="value">{{ getPartiesGagneesCount() }}</span>
        <span class="label">Parties gagn√©es</span>
      </div>
      <div>
        <span class="value">{{ getEnCoursCount() }}</span>
        <span class="label">En cours</span>
      </div>
      <div>
        <span class="value">{{ getTermineesCount() }}</span>
        <span class="label">Termin√©es</span>
      </div>
    </div>
  </section>

  <!-- üïπÔ∏è Parties -->
  <section class="card">
    <h2>Historique des Parties</h2>
    <ul class="game-list">
      <li *ngFor="let jp of joueurParties">
        <div class="info">
          <strong>Partie #{{ jp.partieId }}</strong>
          <span class="state">
          <!-- l‚Äô√©tat vient de Partie (relation) -->
          √âtat : {{ jp.partie?.etat_partie ?? 'Inconnu' }}
            <!-- la couleur vient de JoueurPartie -->
          ‚Ä¢ Couleur : {{ jp.couleur }}
            <ng-container *ngIf="jp.classement !== null && jp.classement !== undefined">
            ‚Ä¢ Classement : {{ jp.classement }}
          </ng-container>
        </span>
        </div>
      </li>
    </ul>
  </section>

  <!-- üß© Pions -->
  <section class="card">
    <h2>‚ôüÔ∏è Pions du joueur</h2>

    <ul class="game-list" *ngIf="pion && pion.length > 0; else noPions">
      <li *ngFor="let p of pion">
        <div class="info">
          <span> ‚Ä¢ Partie {{ p.joueurPartie?.partie?.id || 'Inconnue' }}</span>
          <span> ‚Ä¢ Couleur : {{ p.joueurPartie?.couleur || 'Inconnue' }}</span>
          <span> ‚Ä¢ √âtat du pion : {{ p.etatPion }}</span>
        </div>
      </li>
    </ul>

    <ng-template #noPions>
      <p>Aucun pion trouv√© pour ce joueur.</p>
    </ng-template>
  </section>
</div>
<ng-template #loading>
  <p>Chargement du joueur...</p>
</ng-template>

